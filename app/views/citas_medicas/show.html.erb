<div class="container mt-5">
  <h1 class="mb-4">Cita Médica</h1>

  <div class="card">
    <div class="card-header">
      <h2>Detalles de la Cita</h2>
    </div>
    <div class="card-body">
      <% if notice %>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          <%= notice %>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      <% end %>

      <p>
        <strong>Paciente:</strong>
        <%= @cita.paciente.nombre %> <%= @cita.paciente.apellido %>
      </p>

      <p>
        <strong>Doctor:</strong>
        <%= @cita.doctor.nombre %> <%= @cita.doctor.apellido %>
      </p>

      <p>
        <strong>Sala Médica:</strong>
        <%= @cita.sala_medica.nombre_sala %>
      </p>

      <p>
        <strong>Fecha y Hora:</strong>
        <%= @cita.fecha_hora.strftime('%d/%m/%Y %H:%M') %>
      </p>

      <p>
        <strong>Motivo:</strong>
        <%= @cita.motivo || 'No especificado' %>
      </p>

      <p>
        <strong>Estado:</strong>
        <%= @cita.estado %>
      </p>

      <div class="mt-4">
        <%= link_to 'Editar', edit_citas_medica_path(@cita), class: 'btn btn-primary' %>
        <%= link_to 'Volver', root_path, class: 'btn btn-secondary' %>
        <% if @cita.estado == 'Programada' %>
          <%= link_to 'Aprobar', aprobar_citas_medica_path(@cita), method: :patch, class: 'btn btn-primary' %>
        <% end %>
        <% if @cita.estado == 'Aprobada' %>
          <%= link_to 'Completar', completar_citas_medica_path(@cita), method: :patch, class: 'btn btn-primary' %>
        <% end %>
        <%= link_to 'Cancelar', cancelar_citas_medica_path(@cita), method: :patch, class: 'btn btn-danger' %>
      </div>
    </div>
  </div>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Bootstrap JS (for alert dismissal) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</div>